<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel='stylesheet' href='./css/style.css'>
    <title>Document</title>
</head>
<body>
<header>
    <h1>Da Party Planner!!</h1>
</header>

<br>
<div class='nameInput'>
<form name=>Leader Name:
<input type='text' id='leaderName'>
</form>
</div>

<br>
<div class='dayInput'> 
    <label>Pick a Day: </label>
    <select id='day'> 
        <!-- <option value='1'>Friday</option>
        <option value='2'>Saturday</option>
        <option value='3'>Sunday</option> -->
    </select>
</div>
<br>

<div class='timeOfDayInput'>
    <label> Pick a Time: </label>
<select id='timeOfDay'>
        <option value='1'>Morning</option>
        <option value='2'>Afternoon</option>
        <option value='3'>Night</option>
        <option value='4'>After Hours</option>
</select>
</div>

<div class='activitysInput'>
    <label>And of course...Activity:  </label>
    <!-- <input type='text' list='activities'/> -->
    <select class='userActivity'>
    <option value='1'>lets go eat somewhere</option>
    <option value='2'>catch a movie</option>
    <option value='3'>concert</option>
    <option value='4'>recreational sport</option>
    <option value='5'>sporting event</option>
    <option value='6'>museums</option>
    <option value='7'>beach</option>
    <option value='8'>clubbing</option>
    <option value='9'>bar-hopping</option>
    <option value='other'>Custom Idea</option>
</select>
</div>  


<div class='otherChoiceInput'>
        <label>Users Own Choice 
            <input type='text' id='userInput'>
          </label>
    </div>

<button id='submitInfo'>ENTER!</button>

<script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>

  <script>

    // Drop down shows options for picking a day, up to a week ahead of time
    var days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
    var today = new Date().getDay();
    var ordereddays =[];
    ordereddays[0] = days[today] + " (Today)";
    for(var i=0; i<days.length ; i++){
        if(i !== today)
        ordereddays.push(days[i]);
    };

    ordereddays.push(days[today] + " (Next Week)");

    ordereddays.forEach(day =>{
        $("#day").append( $("<option>").text(day) );
    })

      // user click to grab all the data
      $("#submitInfo").on("click",function(){

          // name, day, time of day value
          var name=$("#leaderName").val();
          var day=$("#day").val();
          var timeOfDay=$("#timeOfDay").val();
          var activity=$(".userActivity").val();
          var customActivity=null;


          // translating from the dayChoice drop-menu
        //   if(day === '1'){day="Friday"}
        //   if(day === '2'){day="Saturday"}
        //   if(day === '3'){day="Sunday"}
        

          if(timeOfDay === '1'){timeOfDay="Morning"}
          if(timeOfDay === '2'){timeOfDay="Afternoon"}
          if(timeOfDay === '3'){timeOfDay="Night"}
          if(timeOfDay === '4'){timeOfDay="After Hours"}

//translating and grabbing from activity menu...and/or other option box
        
          if(activity === '1'){activity="lets go eat somewhere"}
          if(activity === '2'){activity="catch a movie"}
          if(activity === '3'){activity="concert"}
          if(activity === '4'){activity="recreational sport"}
          if(activity === '5'){activity="sporting event"}
          if(activity === '6'){activity="museum"}
          if(activity === '7'){activity="beach"}
          if(activity === '8'){activity="clubbing"}
          if(activity === '9'){activity="bar hopping"}
          if(activity === "10"){activity="other"}
          // custom input grab
          if(activity === "other"){
              customActivity=$("#userInput").val();
            }
          console.log(activity)
        

        //object to send to back-end
          var infoForBack={
              person:name,
              day:day,
              time:timeOfDay,
              activity:activity,
              custom:customActivity

          }
          console.log(infoForBack)


          $.post('/',infoForBack).then(function(){
              console.log('sent!')
          }) 
        });
      
        

//var activities=['lets go eat somewhere!', 'catch a movie', 'concert','recreational sport','sporting event','museums','beach','clubbing','bar-hoping']

      </script>
    
</body>
</html>
